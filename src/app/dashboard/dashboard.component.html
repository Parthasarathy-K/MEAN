<div class="container">
	<div class="row" style="margin-top:10px;">
		<div class="col-md-12">
			<button type="button" class="btn btn-sm btn-primary" style="float:right;" data-toggle="modal" data-target="#myModal" (click)="getSelectedItem();">Place Order</button>
		</div>
	</div>
	<div class="main-div" style="padding: 0px;margin-bottom: 0px;">
		<div class="panel">
			<h2 style="text-align:center;">Stationery List</h2>
		</div>
	</div>
	
	<table class="table table-striped">
		<thead>
			<tr>
				<th>Item ID</th>
				<th>Item Name</th>
				<th>Cost Per Item(Rs.)</th>
				<th>Add/Remove</th>
				<th>Item Count</th>
			</tr>
		</thead>
		<tr *ngFor="let item of itemList;let index = index;">
			<td style="padding: 4px;">
				<span [textContent]="item.item_id"></span>
			</td>
			<td>
				<span [textContent]="item.item_name"></span>
			</td>
			<td>
				<span [textContent]="item.price"></span>
			</td>
			<td>
				<button class="btn btn-sm btn-warning" (click)="addToCart(item);">Add</button>
				<button class="btn btn-sm btn-default" (click)="removeFromCart(item);">Remove</button>
			</td>
			<td>
				<input class="form-control" type="number" [value]="item.ord_cnt" [(ngModel)]="itemList[index].ord_cnt" min="1" max="1000" *ngIf="item.added==true"/>
			</td>
		</tr>
	</table>
	<div class="modal" id="myModal">
		<div class="modal-dialog">
			<div class="modal-content">
				<!-- Modal Header -->
				<div class="modal-header">
					<h4 class="modal-title">Confirm Order</h4>
					<button type="button" class="close" data-dismiss="modal">&times;</button>
				</div>
				<!-- Modal body -->
				<div class="modal-body">
					<div *ngIf="selectedItem.length>0">
						<table class="table table-striped">
							<thead>
								<tr>
									<th>Item ID</th>
									<th>Item Name</th>
									<th>Cost Per Item(Rs.)</th>
									<th>Item Count</th>
								</tr>
							</thead>
							<tr *ngFor="let item of selectedItem;">
								<td style="padding: 4px;">
									<span [textContent]="item.item_id"></span>
								</td>
								<td>
									<span [textContent]="item.item_name"></span>
								</td>
								<td>
									<span [textContent]="item.price"></span>
								</td>
								<td>
									<span [textContent]="item.ord_cnt"></span>
								</td>
							</tr>
						</table>
					</div>
					<div *ngIf="selectedItem.length==0">
						<div class="panel">
							<h2 style="text-align:center;">Please select item to place order</h2>
						</div>
					</div>
				</div>
				<!-- Modal footer -->
				<div class="modal-footer">
					<button class="btn btn-sm btn-primary" data-dismiss="modal" *ngIf="selectedItem.length>0" (click)="placeOrder();">Place order</button>
					<button type="button" class="btn btn-sm btn-default" data-dismiss="modal">Cancel</button>
				</div>
			</div>
		</div>
	</div>
</div>
